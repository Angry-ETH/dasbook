在实现 2D 扩展的 DAS 后，节点只需要通过少量的抽样来确定数据可用性，采样策略尤为重要。具体的抽样实施和 DAS 网络密切相关，除此之外抽样的概率保证是 DAS 的核心之一。传统的 2D RS 采样要求节点随机采样特定数量的样本，如果全部成功则表示数据可用。但这种方式忽略了网络因素，例如邻居掉线导致部分失败。同时，样本分布对采样安全性的影响也值得研究。研究人员提出了针对 2D RS 提出了 LossyDAS、IncrementalDAS 和 DiDAS 以更安全、高效地抽样。

## **有损数据可用性采样 （LossyDAS）**

原始 DAS 的严格采样要求节点随机取样 $S$ 个数据片段，并且必须全部成功下载才能判定数据可用，只要有一个片段失败就判定数据不可用。然而在大规模网络中，总会有节点离线或网络分片导致某些数据片段暂时无法获取。如果严格要求每个片段都成功，这些微小的暂时性问题会让本来可用的区块被误判为不可用。

在 LossyDAS 中，节点可以选择一个比 $S$ 略大的采样规模，并允许最多 $M$ 个片段获取失败而仍然认为数据可用。通过适当增加 $S$ 并容忍少量失败，从而避免因单个节点故障或瞬时丢包导致整块数据被错误判定为不可用，即假阴性。

为了保证和严格采样相同的目标假阳性，首先我们依然预先设定一个目标假阳性概率 $P_{FP}$，表示实际数据不可用但通过测试的概率。在该条件下，通过概率分析就可以计算出在允许 $M$ 个样本失败的情况下所需的最小采样数 $S$ 。

在 2D Reed-Solomon 编码的 512×512 数据网格下，即原始数据 $K=256$，每维扩展 $N=512$，若要求假阳性概率低于 $1×10^{-9}$，传统严格采样需要约 $S=73$ 个片段。LossyDAS 策略每额外增加约 $10$ 个样本即可多容忍 $1$ 个片段失败，仍保持同等安全裕度。具体而言，$S=84$ 且允许 $1$ 个样本失败，或者 $S=103$ 且允许 $3$ 个失败。

LossyDAS 按最坏情况选择了更大的样本数，保证了假阳性率与传统方案一致，同时大大降低了假阴性的概率，使采样对可恢复的轻微数据缺失更加健壮。

## 增量**数据可用性**采样（IncrementalDAS）

LossyDAS 提供了对失败样本的容忍机制，但其采样规模仍需预先设定。如果预设的样本数不足以覆盖异常情况，节点仍可能因为失败样本过多而终止验证。IncrementalDAS 通过动态调整采样规模，解决了该问题。

当节点采样失败时，不立即判定区块不可用，而是逐步扩大采样集。首先，节点设定初始的容忍失败数量 $L_1$，并根据 LossyDAS 的分析选取所需样本数 $S(L_1)$。节点尝试下载这些样本，如果获取的有效样本数不少于 $S(L_1) - L_1$，则测试通过；否则节点进入下一阶段，选择更高的容忍度 $L_2 > L_1$，并将采样集相应地扩展至至 $S(L_2)$，补充采样需要增加的 $S(L_2) - S(L_1)$ 个样本。后续采样集总是建立在前一轮采样集的基础上，因此整体仍等价于一次更大规模的单次采样，从而不会破坏原有的假阳性概率界限。

这种策略兼具弹性与稳健性。在实际网络中，个别节点失联或响应延迟可能导致初始采样失败，但通过追加样本，节点可以避免不必要的误判。同时，IncrementalDAS 不允许节点“重新投掷骰子”来逃避失败，而是基于已有观测条件进行条件扩展，保证了系统的一致性和不可作弊性。

IncrementalDAS 最终收敛于一个足够大的样本集，使节点能在最小带宽消耗和足够置信度之间取得平衡。这种方式特别适用于轻节点或带宽受限场景下的渐进式验证任务。

## DiDAS（区分采样策略）

由于 2D Reed-Solomon 并非 MDS 码，其可恢复性取决于丢失片段的具体分布模式。存在一种最小规模的恶意擦除模式：攻击者若使矩阵中任意选择的 $N-K+1$ 行和 $N-K+1$ 列的交叉区域数据缺失，则可让任一行列都缺少超过K个片段，导致既无完整行也无完整列可恢复，整块数据将不可重构。这种模式是使得数据不可用的最少样本策略，也是采样检测需要防范的最坏情况。如果采样点集中在某几行或列，会大幅降低检测到缺失的概率。

DiDAS 策略要求采样点必须位于不同的行和列，也就是说采样点之间在矩阵中不重复行也不重复列，类似在 $N \times N$ 矩阵上取一个对角线形分布的子集。这种策略最大化样本在二维空间中的覆盖范围，使其更容易命中被恶意破坏的交叉区域，从而显著提升检测最坏擦除模式的概率。在小样本数时，均匀随机采样与 DiDAS 差异不大，但在样本数趋近于矩阵规模（例如 $S > 100$）时，随机采样中重复行列的概率上升，而 DiDAS 保证了分布的分散性，从而在假阳性概率上获得了更优的下降速度。

同时 DiDAS 策略的实现也很简单：通过洗牌生成一个不重复的行索引数组和列索引数组，然后将两者配对，即可获得满足条件的采样集。由于其无额外带宽开销且能显著提升最坏情况检测能力，DiDAS 是一种“零成本增强”手段，在实践中完全可以与其他采样策略结合使用。例如，在 IncrementalDAS 的每轮扩展中，保持新增样本在行列上的不重复性，即可自然地融合 DiDAS 的优势。